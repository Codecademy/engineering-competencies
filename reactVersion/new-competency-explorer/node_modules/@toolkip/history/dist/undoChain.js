"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const history_1 = require("./history");
class _UndoChain extends history_1.HistoryChain {
    constructor() {
        super();
        window.addEventListener("keyup", (event) => {
            if (!event.ctrlKey) {
                return;
            }
            if (event.keyCode !== 90) {
                return;
            }
            if (this._shouldIgnoreEvent(event)) {
                return;
            }
            if (event.shiftKey) {
                this.redo();
            }
            else {
                this.undo();
            }
        });
    }
    undo() {
        let undoable = this.navigateBack();
        if (!undoable || !undoable.reverseFunction) {
            return;
        }
        undoable.reverseFunction();
    }
    redo() {
        let undoable = this.navigateForward();
        if (!undoable || !undoable.forwardFunction) {
            return;
        }
        undoable.forwardFunction();
    }
}
exports._UndoChain = _UndoChain;
