"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const stringifier_1 = require("./stringifier");
class _StyleElementGenerator {
    createElement(id) {
        return this._createElement(id);
    }
    _createElement(id) {
        let elem;
        if (id) {
            elem = document.getElementById(id);
            if (elem) {
                return elem;
            }
        }
        elem = document.createElement("style");
        if (id) {
            elem.setAttribute("id", id);
        }
        return elem;
    }
    createElementForStyles(styles, id, addToDocument) {
        if (!styles) {
            return [];
        }
        return this._createElementForStyles(styles, id, addToDocument);
    }
    _createElementForStyles(styles, id, addToDocument) {
        let stringified = stringifier_1.stringifyStyles(styles);
        let out = [];
        for (let s of stringified) {
            let elem = this._createElement(id);
            elem.innerHTML = s;
            if (addToDocument) {
                document.head.appendChild(elem);
            }
            out.push(elem);
        }
        return out;
    }
}
const StyleElementGenerator = new _StyleElementGenerator();
function createStyleElement(id) {
    return StyleElementGenerator.createElement(id);
}
exports.createStyleElement = createStyleElement;
function createElementForStyles(styles, id, addToDocument) {
    return StyleElementGenerator.createElementForStyles(styles, id, addToDocument);
}
exports.createElementForStyles = createElementForStyles;
